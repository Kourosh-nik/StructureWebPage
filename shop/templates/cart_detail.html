{% extends "base.html" %}
{% load static %}
{% block title %}Cart{% endblock title %}
{% block styles %}
<style>
    th, td {
        padding: 5px;
        text-align: center;
    }
    .table-container {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }
    table {
        border-collapse: collapse;
        width: 80%; /* Adjust width as desired */
    }
    .add-to-cart .qty-label .input-number{
        width: 90px;
        display: inline-block;
    }
    .add-to-cart .qty-label{
        display: inline-block;
        font-weight: 500;
        font-size: 12px;
        text-transform: uppercase;
        margin-right: 0px;
        margin-bottom: 0px;
    }
</style>
{% endblock styles %}

{% block content %}
<h1 style="text-align: center;">Cart Detail</h1>
<div class="table-container">
    <table>
        <tr>
            <th>Image</th>
            <th>Product Title</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total price</th>
            <th>Remove</th>
        </tr>
        {% for item in cart %}
        <tr>
            <td><img src="{{ item.product.image.url }}" alt="{{ item.product }}" width="150"/></td>
            <td><a href="{{ item.product.get_absolute_url }}">{{ item.product.title }}</a></td>
            <td>{{ item.price }}</td>
            <td>
                <div class="add-to-cart">
                    <form method="post" action="{% url 'shop:add_to_cart' %}">
                        <div class="qty-label">
<!--                        Qty-->
                            <div class="input-number">
                                <input type="number" name="quantity" value="{{ item.quantity }}">
                                <input type="hidden" name="product_id" value="{{ item.product.id }}">
                                <input type="hidden" name="update" value="1">
                                <span class="qty-up">+</span>
                                <span class="qty-down">-</span>
                            </div>
                        </div>
                        <button class="add-to-cart-btn"><i class="fa fa-shopping-cart"></i> Update cart</button>
                    {% csrf_token %}
                    </form>
                </div>
            </td>
            <td>{{ item.total_price }}</td>
            <td><a href="{% url 'shop:remove_from_cart' item.product.id %}">Remove</a></td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock content %}
